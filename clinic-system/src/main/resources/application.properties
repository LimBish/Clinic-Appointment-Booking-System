# ==========================================
# application.properties  (common settings)
# ==========================================
spring.application.name=clinic-appointment-system
spring.profiles.active=dev

# ===== Server =====
server.port=8088
server.error.whitelabel.enabled=false

# ===== Thymeleaf =====
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.encoding=UTF-8

# ===== JPA / Hibernate =====
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ===== Database (override per profile) =====
spring.datasource.url=jdbc:postgresql://localhost:5432/clinic_db
spring.datasource.username=clinic_user
spring.datasource.password=Clinic123!
spring.datasource.driver-class-name=org.postgresql.Driver

# ===== Connection Pool (HikariCP) =====
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000

# ===== Spring Mail (Email notifications) =====
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# ===== File Upload =====
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# ===== Actuator (monitoring endpoints) =====
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# ===== Logging =====
logging.level.com.clinic=DEBUG
logging.level.org.springframework.security=WARN
logging.file.name=logs/clinic-app.log
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level [%thread] %logger{36} - %msg%n

# ===== Custom Application Properties =====
# Appointment reminder hours before appointment
clinic.reminder.hours-before=24
# Default appointment slot duration (minutes)
clinic.appointment.slot-duration-minutes=30
# Max appointments per doctor per day
clinic.appointment.max-per-doctor-per-day=20
# Queue wait time estimate per patient (minutes)
clinic.queue.avg-minutes-per-patient=15
